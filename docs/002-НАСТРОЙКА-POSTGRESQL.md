# 002 - –ù–ê–°–¢–†–û–ô–ö–ê POSTGRESQL –ß–ï–†–ï–ó DOCKER

**–î–∞—Ç–∞:** 26.12.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–ï –ù–£–ñ–ù–û –£–°–¢–ê–ù–ê–í–õ–ò–í–ê–¢–¨ PostgreSQL –õ–û–ö–ê–õ–¨–ù–û!

–¢–∞–∫ –∫–∞–∫ —É —Ç–µ–±—è –ø—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–∫–∞–ª—å–Ω—ã–º PostgreSQL, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–¢–û–õ–¨–ö–û Docker**.  
–≠—Ç–æ –¥–∞–∂–µ –ª—É—á—à–µ - –ø—Ä–æ—â–µ, —á–∏—â–µ, –∏ –ª–µ–≥–∫–æ —É–¥–∞–ª–∏—Ç—å/–ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.

---

## üê≥ –®–ê–ì 1: –ó–ê–ü–£–°–¢–ò DOCKER DESKTOP

1. –û—Ç–∫—Ä–æ–π **–º–µ–Ω—é –ü—É—Å–∫**
2. –ù–∞–π–¥–∏ **Docker Desktop**
3. –ó–∞–ø—É—Å—Ç–∏ –µ–≥–æ
4. **–ü–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã** –ø–æ–∫–∞ Docker –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
5. –í —Ç—Ä–µ–µ (—Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É) –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è **–∑–Ω–∞—á–æ–∫ –∫–∏—Ç–∞** üêã
6. –ö–æ–≥–¥–∞ Docker –≥–æ—Ç–æ–≤ - –∑–Ω–∞—á–æ–∫ –±—É–¥–µ—Ç —Å–ø–æ–∫–æ–π–Ω—ã–π (–Ω–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

### –ï—Å–ª–∏ Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
- –ü–æ–ø—Ä–æ–±—É–π –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ WSL 2 –≤–∫–ª—é—á–µ–Ω: `wsl --status` –≤ PowerShell
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ WSL: `wsl --install` –≤ PowerShell (–æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

---

## üê≥ –®–ê–ì 2: –ó–ê–ü–£–°–ö POSTGRESQL

–ö–æ–≥–¥–∞ Docker Desktop –∑–∞–ø—É—â–µ–Ω, –æ—Ç–∫—Ä–æ–π **—Ç–µ—Ä–º–∏–Ω–∞–ª –≤ IDEA** (Alt+F12) –∏ –≤—ã–ø–æ–ª–Ω–∏:

```powershell
cd "C:\Users\Lenovo\IdeaProjects\identity-social"
docker-compose up -d
```

### –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
1. Docker —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑ PostgreSQL 16 Alpine (~100 –ú–ë, –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –¥–æ–ª–≥–æ)
2. –°–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `identity-social-db`
3. –ó–∞–ø—É—Å—Ç–∏—Ç PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5432
4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `identity_social_db` —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
[+] Running 2/2
 ‚úî Network identity-social_default  Created
 ‚úî Container identity-social-db     Started
```

---

## üê≥ –®–ê–ì 3: –ü–†–û–í–ï–†–ö–ê

```powershell
docker ps
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
CONTAINER ID   IMAGE                PORTS                    NAMES
abc123...      postgres:16-alpine   0.0.0.0:5432->5432/tcp   identity-social-db
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–∞–∫—É—é —Å—Ç—Ä–æ–∫—É - **PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ

---

## üóÑÔ∏è –®–ê–ì 4: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –í IDEA

1. –í IDEA —Å–ø—Ä–∞–≤–∞ –Ω–∞–π–¥–∏ –≤–∫–ª–∞–¥–∫—É **Database** (–∏–ª–∏ `View ‚Üí Tool Windows ‚Üí Database`)
2. –ù–∞–∂–º–∏ **+** ‚Üí **Data Source** ‚Üí **PostgreSQL**
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **Host:** `localhost`
   - **Port:** `5432`
   - **Database:** `identity_social_db`
   - **User:** `admin`
   - **Password:** `admin123`
4. –ù–∞–∂–º–∏ **Test Connection**
5. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ ‚úÖ ‚Üí –Ω–∞–∂–º–∏ **OK**

–¢–µ–ø–µ—Ä—å —Ç—ã –≤–∏–¥–∏—à—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä—è–º–æ –≤ IDEA!

---

## üîß –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´ DOCKER

```powershell
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)
docker ps -a

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
docker-compose up -d

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ PostgreSQL
docker logs identity-social-db

# –ó–∞–π—Ç–∏ –≤ PostgreSQL —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å
docker exec -it identity-social-db psql -U admin -d identity_social_db
```

---

## üóëÔ∏è –ö–ê–ö –£–î–ê–õ–ò–¢–¨ –í–°–Å –ò –ù–ê–ß–ê–¢–¨ –ó–ê–ù–û–í–û

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL:

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down

# –£–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (–í–ù–ò–ú–ê–ù–ò–ï: —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ!)
docker volume rm identity-social_postgres_data

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ —Å —á–∏—Å—Ç–æ–π –±–∞–∑–æ–π
docker-compose up -d
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢

- [x] Docker Desktop –∑–∞–ø—É—â–µ–Ω (–∫–∏—Ç –≤ —Ç—Ä–µ–µ)
- [x] –í—ã–ø–æ–ª–Ω–µ–Ω–æ `docker-compose up -d`
- [x] `docker ps` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `identity-social-db`
- [x] –ë–∞–∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –≤ IDEA (–ø–∞–Ω–µ–ª—å Database)
- [x] Test Connection —É—Å–ø–µ—à–µ–Ω

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ PostgreSQL –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫:
- `003-–ü–ï–†–í–´–ô-–ó–ê–ü–£–°–ö.md` - –∑–∞–ø—É—Å–∫ Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

