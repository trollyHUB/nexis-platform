# 021 - –§–ê–ó–ê 2: –°–û–¶–ò–ê–õ–¨–ù–ê–Ø –õ–ï–ù–¢–ê

**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 26.12.2025 14:15  
**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–∞–±–æ—Ç–µ

---

## üéØ –¶–ï–õ–¨ –§–ê–ó–´

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –ª–µ–Ω—Ç—É —Å –ø–æ—Å—Ç–∞–º–∏, –ª–∞–π–∫–∞–º–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### 1. Backend (Kotlin + Spring Boot)

#### 1.1 –°–æ–∑–¥–∞—Ç—å Post Entity
```kotlin
@Entity
@Table(name = "posts")
class Post {
  - uuid: UUID
  - content: String
  - imageUrl: String?
  - author: User
  - createdAt: LocalDateTime
  - updatedAt: LocalDateTime?
}
```

#### 1.2 –°–æ–∑–¥–∞—Ç—å Like Entity
```kotlin
@Entity
@Table(name = "likes")
class Like {
  - id: Long
  - user: User
  - post: Post
  - createdAt: LocalDateTime
}
```

#### 1.3 –°–æ–∑–¥–∞—Ç—å Repositories
- PostRepository
- LikeRepository

#### 1.4 –°–æ–∑–¥–∞—Ç—å PostService
- createPost(username, content, imageUrl?)
- getFeed(username, page, size)
- getPostByUuid(uuid)
- deletePost(username, uuid)
- toggleLike(username, postUuid)
- getLikesCount(postUuid)

#### 1.5 –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å PostController
- GET /api/posts/feed
- POST /api/posts
- GET /api/posts/{uuid}
- POST /api/posts/{uuid}/like
- DELETE /api/posts/{uuid}

### 2. Database Migration

```sql
CREATE TABLE posts (
  id BIGSERIAL PRIMARY KEY,
  uuid UUID UNIQUE NOT NULL,
  content TEXT NOT NULL,
  image_url VARCHAR(500),
  author_id BIGINT NOT NULL REFERENCES users(id),
  created_at TIMESTAMP NOT NULL,
  updated_at TIMESTAMP
);

CREATE TABLE likes (
  id BIGSERIAL PRIMARY KEY,
  user_id BIGINT NOT NULL REFERENCES users(id),
  post_id BIGINT NOT NULL REFERENCES posts(id),
  created_at TIMESTAMP NOT NULL,
  UNIQUE(user_id, post_id)
);
```

### 3. Frontend (React + TypeScript)

#### 3.1 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `PostCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ—Å—Ç–∞
- `PostForm` - —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
- `Feed` - –ª–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ–≤

#### 3.2 –û–±–Ω–æ–≤–∏—Ç—å FeedPage
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–µ–Ω—Ç—ã
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
- –õ–∞–π–∫–∏
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è

---

## üîÑ –ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å Post Entity
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å Like Entity
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å PostRepository
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å LikeRepository
6. ‚úÖ –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
7. ‚úÖ –°–æ–∑–¥–∞—Ç—å PostService
8. ‚úÖ –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å PostController
9. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –≤ Postman
10. ‚è≥ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Frontend
11. ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å FeedPage
12. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### API Endpoints:
```
POST   /api/posts              - —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç
GET    /api/posts/feed         - –ø–æ–ª—É—á–∏—Ç—å –ª–µ–Ω—Ç—É
GET    /api/posts/{uuid}       - –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç
POST   /api/posts/{uuid}/like  - –ª–∞–π–∫–Ω—É—Ç—å/–¥–∏–∑–ª–∞–π–∫–Ω—É—Ç—å
DELETE /api/posts/{uuid}       - —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç
```

### UI:
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ —Å textarea
- –õ–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ–≤ —Å –∞–≤—Ç–æ—Ä–æ–º, –≤—Ä–µ–º–µ–Ω–µ–º, –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –ö–Ω–æ–ø–∫–∞ –ª–∞–π–∫–∞ —Å —Å—á—ë—Ç—á–∏–∫–æ–º
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–∏—Ö –ø–æ—Å—Ç–æ–≤)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 26.12.2025 14:15*

