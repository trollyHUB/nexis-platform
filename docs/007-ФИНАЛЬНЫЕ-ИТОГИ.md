# ğŸ‰ IDENTITY & SOCIAL - Ğ˜Ğ¢ĞĞ“Ğ˜ Ğ ĞĞ—Ğ ĞĞ‘ĞĞ¢ĞšĞ˜

**Ğ”Ğ°Ñ‚Ğ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ:** 26.12.2025  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 0.0.1-SNAPSHOT  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ¤ĞĞ—Ğ 1 Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ

---

## ğŸ“Š Ğ§Ğ¢Ğ Ğ‘Ğ«Ğ›Ğ Ğ¡ĞĞ—Ğ”ĞĞĞ

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
identity-social/
â”œâ”€â”€ ğŸ“ src/main/kotlin/com/tolegen/identitysocial/
â”‚   â”œâ”€â”€ IdentitySocialApplication.kt      # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ config/                        # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ DataInitializer.kt            # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ‘Ğ” (Ñ€Ğ¾Ğ»Ğ¸, Ğ°Ğ´Ğ¼Ğ¸Ğ½)
â”‚   â”‚   â”œâ”€â”€ JwtProperties.kt              # Ğ¡Ğ²Ğ¾Ğ¹ÑÑ‚Ğ²Ğ° JWT
â”‚   â”‚   â””â”€â”€ SecurityConfig.kt             # Spring Security ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ controller/                    # REST API
â”‚   â”‚   â”œâ”€â”€ AuthController.kt             # /api/auth/* endpoints
â”‚   â”‚   â””â”€â”€ HomeController.kt             # / Ğ¸ /api/public/*
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ dto/auth/                      # Data Transfer Objects
â”‚   â”‚   â”œâ”€â”€ AuthDto.kt                    # Request/Response ĞºĞ»Ğ°ÑÑÑ‹
â”‚   â”‚   â””â”€â”€ UserDto.kt                    # DTO Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ entity/                        # JPA Entities
â”‚   â”‚   â”œâ”€â”€ User.kt                       # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ
â”‚   â”‚   â”œâ”€â”€ Role.kt                       # Ğ Ğ¾Ğ»ÑŒ
â”‚   â”‚   â””â”€â”€ RefreshToken.kt               # Refresh Ñ‚Ğ¾ĞºĞµĞ½
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ exception/                     # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
â”‚   â”‚   â”œâ”€â”€ Exceptions.kt                 # ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ Ğ¸ÑĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â””â”€â”€ GlobalExceptionHandler.kt     # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ repository/                    # JPA Repositories
â”‚   â”‚   â”œâ”€â”€ UserRepository.kt
â”‚   â”‚   â”œâ”€â”€ RoleRepository.kt
â”‚   â”‚   â””â”€â”€ RefreshTokenRepository.kt
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ security/                      # JWT Security
â”‚   â”‚   â”œâ”€â”€ JwtService.kt                 # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ/Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ JWT
â”‚   â”‚   â”œâ”€â”€ JwtAuthenticationFilter.kt    # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ UserPrincipal.kt              # Spring Security principal
â”‚   â”‚   â””â”€â”€ CustomUserDetailsService.kt   # Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ service/                       # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚       â””â”€â”€ AuthService.kt                # Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
â”‚
â”œâ”€â”€ ğŸ“ docs/                              # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ README.md                         # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ 001-ĞĞĞĞ›Ğ˜Ğ—-Ğ˜-ĞŸĞ›ĞĞ.md
â”‚   â”œâ”€â”€ 002-ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ-POSTGRESQL.md
â”‚   â”œâ”€â”€ 003-ĞŸĞ•Ğ Ğ’Ğ«Ğ™-Ğ—ĞĞŸĞ£Ğ¡Ğš.md
â”‚   â”œâ”€â”€ 004-Ğ˜Ğ¢ĞĞ“Ğ˜-Ğ¤ĞĞ—Ğ«-0.md
â”‚   â”œâ”€â”€ 005-Ğ¤ĞĞ—Ğ-1-ĞĞ£Ğ¢Ğ•ĞĞ¢Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯.md
â”‚   â””â”€â”€ 006-Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ•-API.md
â”‚
â”œâ”€â”€ docker-compose.yml                    # PostgreSQL Ğ² Docker
â”œâ”€â”€ build.gradle.kts                      # Gradle Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â””â”€â”€ application.properties                # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
```

---

## ğŸ”Œ API ENDPOINTS

| ĞœĞµÑ‚Ğ¾Ğ´ | URL | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Auth |
|-------|-----|----------|------|
| GET | `/` | Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ± API | âŒ |
| GET | `/api/public/health` | Health check | âŒ |
| POST | `/api/auth/register` | Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ | âŒ |
| POST | `/api/auth/login` | Ğ’Ñ…Ğ¾Ğ´ | âŒ |
| POST | `/api/auth/refresh` | ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ | âŒ |
| POST | `/api/auth/logout` | Ğ’Ñ‹Ñ…Ğ¾Ğ´ | âŒ |
| POST | `/api/auth/logout-all` | Ğ’Ñ‹Ñ…Ğ¾Ğ´ ÑĞ¾ Ğ²ÑĞµÑ… ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ² | âœ… |
| GET | `/api/auth/me` | Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ | âœ… |

---

## ğŸ›  Ğ¢Ğ•Ğ¥ĞĞĞ›ĞĞ“Ğ˜Ğ˜

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ |
|-----------|------------|--------|
| Ğ¯Ğ·Ñ‹Ğº | Kotlin | 2.2.21 |
| Ğ¤Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº | Spring Boot | 4.0.1 |
| Security | Spring Security | 7.0.2 |
| ORM | Hibernate | 7.2.0 |
| Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | PostgreSQL | 16 |
| JWT | jjwt | 0.12.6 |
| Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° | Gradle | 9.2.1 |
| JDK | Amazon Corretto | 21 |

---

## ğŸ—„ï¸ Ğ‘ĞĞ—Ğ Ğ”ĞĞĞĞ«Ğ¥

### Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ (ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸)

**users**
- id, uuid, username, email, password
- first_name, last_name, avatar_url, bio
- email_verified, enabled, locked
- created_at, updated_at, last_login_at

**roles**
- id, name, description, created_at

**user_roles** (ÑĞ²ÑĞ·ÑƒÑÑ‰Ğ°Ñ)
- user_id, role_id

**refresh_tokens**
- id, token, user_id, expires_at
- revoked, device_info, ip_address, created_at

### ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ

| Username | Email | Password | Ğ Ğ¾Ğ»Ğ¸ |
|----------|-------|----------|------|
| admin | admin@example.com | Admin123! | ADMIN, USER |

---

## ğŸ” Ğ‘Ğ•Ğ—ĞĞŸĞĞ¡ĞĞĞ¡Ğ¢Ğ¬

### JWT Configuration
- **Access Token:** 24 Ñ‡Ğ°ÑĞ° (86400000 ms)
- **Refresh Token:** 7 Ğ´Ğ½ĞµĞ¹ (604800000 ms)
- **ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼:** HS256

### Password Requirements
- ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 8 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
- ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 1 Ğ·Ğ°Ğ³Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ğ±ÑƒĞºĞ²Ğ°
- ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 1 ÑÑ‚Ñ€Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ±ÑƒĞºĞ²Ğ°
- ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 1 Ñ†Ğ¸Ñ„Ñ€Ğ°

### CORS
- localhost:3000 (React)
- localhost:5173 (Vite)
- localhost:8082 (Backend)

---

## ğŸš€ Ğ‘Ğ«Ğ¡Ğ¢Ğ Ğ«Ğ™ Ğ¡Ğ¢ĞĞ Ğ¢

```powershell
# 1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ PostgreSQL
docker-compose up -d

# 2. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Ğ² IDEA Ğ¸Ğ»Ğ¸)
.\gradlew bootRun

# 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ
curl http://localhost:8082/
```

---

## ğŸ“ˆ Ğ¡Ğ›Ğ•Ğ”Ğ£Ğ®Ğ©Ğ˜Ğ• Ğ¨ĞĞ“Ğ˜ (Ğ¤Ğ°Ğ·Ğ° 2)

- [ ] Email Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ (Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¸ÑĞµĞ¼)
- [ ] Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
- [ ] Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ° (Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ MinIO/S3)
- [ ] Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
- [ ] Rate limiting
- [ ] Swagger/OpenAPI Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

### Ğ¤Ğ°Ğ·Ğ° 3: Social Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
- [ ] ĞŸĞ¾ÑÑ‚Ñ‹ (CRUD)
- [ ] ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸
- [ ] Ğ›Ğ°Ğ¹ĞºĞ¸
- [ ] ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ (follow/unfollow)
- [ ] Ğ›ĞµĞ½Ñ‚Ğ° Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹

---

## ğŸ“ ĞšĞĞœĞĞĞ”Ğ«

```powershell
# Docker
docker-compose up -d          # Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ PostgreSQL
docker-compose down           # ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ
docker ps                     # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²

# Gradle
.\gradlew bootRun             # Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
.\gradlew build               # Ğ¡Ğ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ
.\gradlew test                # Ğ¢ĞµÑÑ‚Ñ‹
.\gradlew clean               # ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ

# Git
git add .
git commit -m "feat: add authentication"
git push
```

---

## âœ… CHECKLIST

- [x] ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ (Spring Boot 4.0.1 + Kotlin)
- [x] PostgreSQL Ñ‡ĞµÑ€ĞµĞ· Docker
- [x] Entity: User, Role, RefreshToken
- [x] Repositories
- [x] JWT Service (Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ/Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ)
- [x] Security Config (stateless, JWT filter)
- [x] AuthService (register, login, refresh, logout)
- [x] AuthController (REST API)
- [x] GlobalExceptionHandler
- [x] DataInitializer (Ñ€Ğ¾Ğ»Ğ¸, Ğ°Ğ´Ğ¼Ğ¸Ğ½)
- [x] Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

---

**ğŸ‰ Ğ¤ĞĞ—Ğ 1 ĞŸĞĞ›ĞĞĞ¡Ğ¢Ğ¬Ğ® Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•ĞĞ!**

ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ Ğº Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ. ĞœĞ¾Ğ¶Ğ½Ğ¾ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ¸Ñ‚ÑŒÑÑ, Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ JWT Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ¸ Ğ·Ğ°Ñ‰Ğ¸Ñ‰Ğ°Ñ‚ÑŒ endpoints.

---

*Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½: 26.12.2025*

